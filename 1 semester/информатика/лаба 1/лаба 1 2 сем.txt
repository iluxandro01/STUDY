
#include <string>
#include <fstream>
#include <iostream>
using namespace std;

int main()
{
	setlocale(LC_ALL, "Russian");
	ifstream fin;
	fin.open("Text.txt");
	if (!fin) // если файл не найден
	{
		cout << "Ошибка! файл не найден" << endl; //вывод сообщения об ошибки
		fin.close(); //закрыть файл
		system("pause");
		return 1;
	}

	if (fin.peek() == EOF) //если найденный файл пуст
	{
		cout << "Ошибка! файл пуст!" << endl;// вывод сообщения об ошибке
		fin.close();//закрыть файл
		system("pause");
		return 1;
	}
	system("color F0");
	string str;
	getline(fin, str);
	fin.close();
	cout << "Изначальная строка: " << str << endl;

	int i = 0;
	int IndexFirstSymbol;
	int IndexLastSymbol;
	int MaxLenghtWord = 0;

	//поиск самого длинного слова 
	while (str[i]) {
		//найти первый символ слова
		while ((str[i] == ' ') && (str[i] != '\0')) {
			i++;
		}
		IndexFirstSymbol = i;
		//найти последний символ слова
		while ((str[i] != ' ') && (str[i] != '\0')) {
			i++;
		}
		IndexLastSymbol = i;
		//найти максимальную длину слова
		if ((IndexLastSymbol - IndexFirstSymbol) > MaxLenghtWord) {
			MaxLenghtWord = IndexLastSymbol - IndexFirstSymbol;
		}
	}
	cout << "Максимальная длина слова: " << MaxLenghtWord << endl;

	i = 0; //возвращаемся на начало строчки

	cout << "Слова с длиной '" << MaxLenghtWord << "':" << endl;
	//поиск слов с аналогичной длиной
	while (str[i]) {
		//найти первый символ слова
		while ((str[i] == ' ') && (str[i] != '\0')) {
			i++;
		}
		IndexFirstSymbol = i;
		//найти последний символ слова	
		while ((str[i] != ' ') && (str[i] != '\0')) {
			i++;
		}
		IndexLastSymbol = i;
		//проверка на длину слова
		if (IndexLastSymbol - IndexFirstSymbol == MaxLenghtWord) {
			for (int i = IndexFirstSymbol; i < IndexLastSymbol; i++) {
				cout << str[i];
			}
			cout << " ";
		}
	}
	cout << endl;

	return 0;
}

